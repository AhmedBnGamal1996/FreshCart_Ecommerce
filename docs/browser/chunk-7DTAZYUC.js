import{a as A}from"./chunk-XSCAXXXC.js";import{a as L,b as c,c as D,d as G,g as B,h as O,i as V,j as k,l as $}from"./chunk-2MXGKPI7.js";import{B as P,D as T,Ga as m,Na as q,Qa as w,X as o,bb as x,ga as _,ia as y,ma as s,qa as n,ra as i,sa as h,tb as M,xa as N,ya as S}from"./chunk-KIN36VHZ.js";var b=(t,r)=>({"is-valid":t,"is-invalid":r});function j(t,r){t&1&&(n(0,"p",16),m(1," Name is required"),i())}function z(t,r){t&1&&(n(0,"p",16),m(1," Name Should be more than or equal 3 chars"),i())}function H(t,r){t&1&&(n(0,"p",16),m(1," Name Should be less than or equal 20 chars"),i())}function I(t,r){if(t&1&&(n(0,"div",7),_(1,j,2,0,"p",16)(2,z,2,0,"p",16)(3,H,2,0,"p",16),i()),t&2){let a,l,f,e=S();o(),s(1,e.registerForm.get("name")&&((a=e.registerForm.get("name"))!=null&&a.getError("required"))?1:-1),o(),s(2,e.registerForm.get("name")&&((l=e.registerForm.get("name"))!=null&&l.getError("minlength"))?2:-1),o(),s(3,e.registerForm.get("name")&&((f=e.registerForm.get("name"))!=null&&f.getError("maxlength"))?3:-1)}}function J(t,r){t&1&&(n(0,"p",16),m(1,"Email is required"),i())}function K(t,r){t&1&&(n(0,"p",16),m(1,"Enter valid email"),i())}function Q(t,r){if(t&1&&(n(0,"div",7),_(1,J,2,0,"p",16)(2,K,2,0),i()),t&2){let a,l=S();o(),s(1,(a=l.registerForm.get("email"))!=null&&a.getError("required")?1:(a=l.registerForm.get("email"))!=null&&a.getError("email")?2:-1)}}function U(t,r){t&1&&(n(0,"p",16),m(1,"Phone is required"),i())}function W(t,r){t&1&&(n(0,"p",16),m(1,"Phone must be 11 digits"),i())}function X(t,r){if(t&1&&(n(0,"div",7),_(1,U,2,0,"p",16)(2,W,2,0),i()),t&2){let a,l=S();o(),s(1,(a=l.registerForm.get("myPhone"))!=null&&a.getError("required")?1:(a=l.registerForm.get("myPhone"))!=null&&a.getError("pattern")?2:-1)}}function Y(t,r){t&1&&(n(0,"p",16),m(1,"Password is requierd"),i())}function Z(t,r){t&1&&(n(0,"p",16),m(1,"Must be six characters at least"),i())}function ee(t,r){if(t&1&&(n(0,"div",7),_(1,Y,2,0,"p",16)(2,Z,2,0),i()),t&2){let a,l=S();o(),s(1,(a=l.registerForm.get("password"))!=null&&a.getError("required")?1:(a=l.registerForm.get("password"))!=null&&a.getError("pattern")?2:-1)}}function te(t,r){t&1&&(n(0,"p",7),m(1,"Repassword doesn\u2019t mismatch"),i())}function ie(t,r){t&1&&(n(0,"span"),h(1,"i",17),i())}function ne(t,r){t&1&&(n(0,"p",14),m(1,"Account Alerady Exists"),i())}function re(t,r){t&1&&(n(0,"p",15),m(1,"Success"),i())}var pe=(()=>{let r=class r{constructor(){this.isLoading=!1,this.msgError=!1,this.isSuccess=!1,this._Router=P(M),this._AuthService=P(A),this._FormBuilder=P(k),this.registerForm=this._FormBuilder.group({name:[null,[c.required,c.minLength(3),c.maxLength(20)]],email:[null,[c.required,c.email]],password:[null,[c.required,c.pattern(/^\w{6,}$/)]],rePassword:[null,[c.required]],myPhone:[null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword})}confirmPassword(l){return l.get("password")?.value===l.get("rePassword")?.value?null:{misMatch:!0}}RegisterSubmit(){this.registerForm.valid?(this.isLoading=!0,this.registerSub=this._AuthService.setRegisterForm(this.registerForm.value).subscribe({next:l=>{l.message=="success"&&(this.isSuccess=!0,this.msgError=!1,setTimeout(()=>{this._Router.navigate(["/login"])},1e3)),console.log(l),this.isLoading=!1},error:l=>{this.msgError=l.error.message,this.isLoading=!1}})):(this.registerForm.setErrors({misMatch:!0}),this.registerForm.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe()}};r.\u0275fac=function(f){return new(f||r)},r.\u0275cmp=T({type:r,selectors:[["app-register"]],standalone:!0,features:[q],decls:35,vars:25,consts:[[1,"container"],[1,"bg-main-light","shadow","p-2","my-2","rounded-4","mt-5"],[1,"text-main","my-2"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-25","mt-2"],["for","email"],["type","email","id","E-mail","formControlName","email",1,"form-control",3,"ngClass"],["type","tel","id","phone","formControlName","myPhone",1,"form-control",3,"ngClass"],["type","password","id","pass","formControlName","password",1,"form-control",3,"ngClass"],["type","password","id","repass","formControlName","rePassword",1,"form-control"],["type","submit",1,"btn-main","d-block","ms-auto"],[1,"alert","alert-danger","m-1","w-50"],[1,"alert","alert-success","m-1","w-50"],[1,"m-1"],[1,"fa","fa-spin","fa-spinner"]],template:function(f,e){if(f&1&&(n(0,"div",0)(1,"section",1)(2,"h2",2),m(3,"Register Now:"),i(),n(4,"form",3),N("ngSubmit",function(){return e.RegisterSubmit()}),n(5,"div",4)(6,"label",5),m(7,"Name"),i(),h(8,"input",6),_(9,I,4,3,"div",7),i(),n(10,"div",4)(11,"label",8),m(12,"Email"),i(),h(13,"input",9),_(14,Q,3,1,"div",7),i(),n(15,"div",4)(16,"label",5),m(17,"Phone"),i(),h(18,"input",10),_(19,X,3,1,"div",7),i(),n(20,"div",4)(21,"label",5),m(22,"Password"),i(),h(23,"input",11),_(24,ee,3,1,"div",7),i(),n(25,"div",4)(26,"label",5),m(27,"Repassword"),i(),h(28,"input",12),_(29,te,2,0,"p",7),i(),n(30,"button",13),m(31,"Register "),_(32,ie,2,0,"span"),i(),_(33,ne,2,0,"p",14)(34,re,2,0,"p",15),i()()()),f&2){let u,F,d,C,g,v,p,E,R;o(4),y("formGroup",e.registerForm),o(4),y("ngClass",w(13,b,!((u=e.registerForm.get("name"))!=null&&u.errors)&&(((u=e.registerForm.get("name"))==null?null:u.touched)||((u=e.registerForm.get("name"))==null?null:u.dirty)),((u=e.registerForm.get("name"))==null?null:u.errors)&&(((u=e.registerForm.get("name"))==null?null:u.touched)||((u=e.registerForm.get("name"))==null?null:u.dirty)))),o(),s(9,(F=e.registerForm.get("name"))!=null&&F.errors&&((F=e.registerForm.get("name"))!=null&&F.touched||(F=e.registerForm.get("name"))!=null&&F.dirty)?9:-1),o(4),y("ngClass",w(16,b,!((d=e.registerForm.get("email"))!=null&&d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)),((d=e.registerForm.get("email"))==null?null:d.errors)&&(((d=e.registerForm.get("email"))==null?null:d.touched)||((d=e.registerForm.get("email"))==null?null:d.dirty)))),o(),s(14,(C=e.registerForm.get("email"))!=null&&C.errors&&((C=e.registerForm.get("email"))!=null&&C.touched||(C=e.registerForm.get("email"))!=null&&C.dirty)?14:-1),o(4),y("ngClass",w(19,b,!((g=e.registerForm.get("myPhone"))!=null&&g.errors)&&(((g=e.registerForm.get("myPhone"))==null?null:g.touched)||((g=e.registerForm.get("myPhone"))==null?null:g.dirty)),((g=e.registerForm.get("myPhone"))==null?null:g.errors)&&(((g=e.registerForm.get("myPhone"))==null?null:g.touched)||((g=e.registerForm.get("myPhone"))==null?null:g.dirty)))),o(),s(19,(v=e.registerForm.get("myPhone"))!=null&&v.errors&&((v=e.registerForm.get("myPhone"))!=null&&v.touched||(v=e.registerForm.get("myPhone"))!=null&&v.dirty)?19:-1),o(4),y("ngClass",w(22,b,!((p=e.registerForm.get("password"))!=null&&p.errors)&&(((p=e.registerForm.get("password"))==null?null:p.touched)||((p=e.registerForm.get("password"))==null?null:p.dirty)),((p=e.registerForm.get("password"))==null?null:p.errors)&&(((p=e.registerForm.get("password"))==null?null:p.touched)||((p=e.registerForm.get("password"))==null?null:p.dirty)))),o(),s(24,(E=e.registerForm.get("password"))!=null&&E.errors&&((E=e.registerForm.get("password"))!=null&&E.touched||(E=e.registerForm.get("password"))!=null&&E.dirty)?24:-1),o(5),s(29,e.registerForm.getError("misMatch")&&((R=e.registerForm.get("rePassword"))!=null&&R.touched||(R=e.registerForm.get("rePassword"))!=null&&R.dirty)?29:-1),o(3),s(32,e.isLoading?32:-1),o(),s(33,e.msgError?33:-1),o(),s(34,e.isSuccess?34:-1)}},dependencies:[$,B,L,D,G,O,V,x],styles:["section[_ngcontent-%COMP%]{margin-top:100%}h2[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}"]});let t=r;return t})();export{pe as RegisterComponent};
