import './polyfills.server.mjs';
import{a as M,b as V,c as B}from"./chunk-ECWAFR75.mjs";import{a as W}from"./chunk-WOPYTPE6.mjs";import{a as O}from"./chunk-W7QXUELQ.mjs";import{a as F}from"./chunk-EUACJOWM.mjs";import{a as R}from"./chunk-Y5VDPUZP.mjs";import{a as j}from"./chunk-PMCYWXXA.mjs";import"./chunk-GTSSCL6B.mjs";import"./chunk-WVUI6REW.mjs";import{$ as a,B as b,Ba as P,Ca as p,I as v,J as g,Ja as D,Ka as d,La as u,Ma as A,Qb as k,Ra as E,Sa as I,Z as T,fa as w,ka as _,ma as f,qa as h,ra as x,sa as C,ta as S,ua as r,va as s,wa as m,y as l,za as y}from"./chunk-XJ52H6M5.mjs";import"./chunk-VVCT4QZE.mjs";var G=()=>[1,2,3,4,5];function z(t,o){if(t&1&&(r(0,"div"),m(1,"img",16),s()),t&2){let i=p().$implicit;a(),f("src",i,T)}}function N(t,o){t&1&&_(0,z,2,1,"ng-template",5)}function U(t,o){t&1&&(r(0,"span"),m(1,"i",17),s())}function $(t,o){t&1&&m(0,"i",11)}function q(t,o){if(t&1){let i=y();r(0,"div",1)(1,"section")(2,"div",2)(3,"div",3)(4,"owl-carousel-o",4),C(5,N,1,0,null,5,x),s()(),r(7,"div",6)(8,"h2"),d(9),s(),r(10,"p",7),d(11),s(),r(12,"h3",8),d(13),s(),r(14,"div",9)(15,"span"),d(16),s(),r(17,"div",10),C(18,U,2,0,"span",null,x),_(20,$,1,0,"i",11),r(21,"span",7),d(22),s()()(),r(23,"div",12)(24,"button",13,0),P("click",function(){v(i);let e=D(25),n=p();return g(n.getCart(n.detailsProduct.id,e))}),d(26,"+Add to cart"),s(),r(27,"a",14),P("click",function(){v(i);let e=p();return g(e.getWishlist(e.detailsProduct._id))}),m(28,"i",15),d(29," Save "),s()()()()()()}if(t&2){let i=p();a(4),f("options",i.customOptions),a(),S(i.detailsProduct.images),a(4),u(i.detailsProduct.title),a(2),u(i.detailsProduct.description),a(2),u(i.detailsProduct.category.name),a(3),A("",i.detailsProduct.price," EGP"),a(2),S(I(7,G).slice(0,i.detailsProduct.ratingsAverage)),a(2),h(20,i.detailsProduct.ratingsAverage%1!==0?20:-1),a(2),u(i.detailsProduct.ratingsAverage)}}var ne=(()=>{let o=class o{constructor(){this._ActivatedRoute=l(k),this._ProductsService=l(O),this._CategorieService=l(W),this._CartService=l(R),this._ToastrService=l(j),this._WishlistService=l(F),this._Renderer2=l(w),this.detailsProduct=null,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!1,pullDrag:!1,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!0}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:c=>{let e=c.get("id");this._ProductsService.getSpesificProduct(e).subscribe({next:n=>{this.detailsProduct=n.data},error:n=>{console.log(n)}})}})}getCart(c,e){this._Renderer2.setAttribute(e,"disabled","true"),this._CartService.goToCart(c).subscribe({next:n=>{console.log(n),this._CartService.countProductsInCart.next(n.numOfCartItems),this._Renderer2.removeAttribute(e,"disabled"),this._ToastrService.success(n.message,"Fresh cart",{progressBar:!0,progressAnimation:"increasing"})},error:n=>{console.log(n),this._Renderer2.removeAttribute(e,"disabled")}})}getWishlist(c){this._WishlistService.addProductToWishlist(c).subscribe({next:e=>{console.log(e),this._WishlistService.countOfProductsInWishlist.next(e.data.length),this._ToastrService.success(e.message,"Fresh cart",{progressBar:!0,progressAnimation:"increasing"})},error:e=>{console.log(e)}})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=b({type:o,selectors:[["app-details"]],standalone:!0,features:[E],decls:1,vars:1,consts:[["element",""],[1,"container"],[1,"row","align-items-center"],[1,"col-md-3"],[3,"options"],["carouselSlide",""],[1,"col-md-9"],[1,"text-muted"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,""],[1,"fa-regular","fa-star-half-stroke","rating-color","stars-landing"],[1,"div","d-flex","justify-content-between","align-content-center"],[1,"btn-main","w-100","mx-auto","mt-4",3,"click"],[1,"btn","btn-light","border","border-secondary","icon-hover","p-1",3,"click"],[1,"me-1","fa","fa-heart","fa-lg"],["alt","",1,"w-100",3,"src"],[1,"fa","fa-star","rating-color"]],template:function(e,n){e&1&&_(0,q,30,8,"div",1),e&2&&h(0,n.detailsProduct?0:-1)},dependencies:[B,V,M],styles:["h1[_ngcontent-%COMP%]{font-family:Georgia,Times New Roman,Times,serif}.icon-hover[_ngcontent-%COMP%]{margin-left:20px;margin-top:13px}.icon-hover[_ngcontent-%COMP%]:hover{color:red;transition:all .3s}"]});let t=o;return t})();export{ne as DetailsComponent};
